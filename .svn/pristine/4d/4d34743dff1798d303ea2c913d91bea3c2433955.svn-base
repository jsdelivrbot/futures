<ion-header>
    <ion-navbar>
        <ion-buttons start>
            <button ion-button icon-only (click)="closelogin()">
        <ion-icon name="md-close"></ion-icon>
      </button>
        </ion-buttons>
        <ion-title>登录</ion-title>
    </ion-navbar>
</ion-header>
<ion-content padding>
    <div class="logo">
        <!-- <img src="assets/images/login/login_logo@{{dpr}}x.png"> -->
    </div>
    <form [formGroup]="passwordForm" (ngSubmit)="login(passwordForm.value);$event.preventDefault();$event.stopPropagation();">
        <div class="form_wrap">
            <ion-item style="font-size:1.25rem;height:4.5rem;">
                <ion-label color="dark">手机号</ion-label>
                <ion-input formControlName="account" placeholder="请输入手机号" type="tel"></ion-input>
                <ion-icon *ngIf="passwordForm.controls.account.valid && passwordForm.controls.account.dirty" item-end name="ios-checkmark-circle" style="color:#51C332"></ion-icon>
                <ion-icon *ngIf="!passwordForm.controls.account.valid && passwordForm.controls.account.dirty" item-end name="ios-close-circle" style="color:red"></ion-icon>
            </ion-item>
            <ion-item style="font-size:1.25rem;height:4.5rem;border-bottom: none;">
                <ion-label color="dark">密&nbsp;&nbsp;&nbsp;&nbsp;码</ion-label>
                <ion-input formControlName="password" placeholder="请输入登录密码" type="password"></ion-input>
                <ion-icon *ngIf="passwordForm.controls.password.valid && passwordForm.controls.password.dirty" item-end name="ios-checkmark-circle" style="color:#51C332"></ion-icon>
                <ion-icon *ngIf="!passwordForm.controls.password.valid && passwordForm.controls.password.dirty" item-end name="ios-close-circle" style="color:red"></ion-icon>
            </ion-item>
            <ion-item style="font-size:1.25rem;height:4.5rem;border-bottom: none;" *ngIf="showPicVerify">
                <ion-label color="dark">验证码</ion-label>
                <ion-input formControlName="verifyCode" placeholder="请输入验证码" type="text"></ion-input>
            </ion-item>
            <ion-item style="font-size:1.25rem;height:4.5rem;border-bottom: none;" *ngIf="showPicVerify">
                <img item-end [src]="imgUrl" tappable (click)="refreshcode(passwordForm.value)">
            </ion-item>
        </div>
        <br>
        <br>
        <button ion-button block type="submit" style="margin:0 auto;width:80%;height:3.33rem;" *ngIf="!showPicVerify" [disabled]="!passwordForm.valid||submitted">登录</button>
        <button ion-button block type="submit" style="margin:0 auto;width:80%;height:3.33rem;" *ngIf="showPicVerify" [disabled]="!passwordForm.valid||submitted||!passwordForm.controls.verifyCode.value">登录</button>
        <br>
    </form>
    <button ion-button outline style="margin-left:10%;width:80%;height:3.33rem;" [navPush]="registerpage">免费注册</button>
    <p class="forget_password" [navPush]="fverifypage">忘记密码？</p>
</ion-content>